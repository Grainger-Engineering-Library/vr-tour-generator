<head>
<meta charset="UTF-8">

</head>


{% extends 'base.html' %}
{% block content %}
<body>

    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

<div class="container mt-3">
<form method="POST" enctype=multipart/form-data>
<div class="container">
    <div class="jumbotron" align="center">
            <h1 class="display-3" align="center">VR Tour Generator</h1>
            <p class="lead" align="center"> Use this form to create a VR Tour from a directory of 360 photos. Please make sure to follow the directions.</p>
            <hr class="my-4">
            <p>This tool was created by the Grainger Engineering Library IDEA Lab as part of the Immersive Scholars Grant.</p>
            <br>
            <a class="btn btn-info btn-lg" href="#" role="button">Learn more</a>

    </div>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <ul class=flashes>
    {% for message in messages %}
      <div class="alert alert-danger">{{ message }}</div>
    {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}
    {% block body %}{% endblock %}

    <div class="row">
        <div class="col-sm">
        <div class="form-group input-group-lg">
            <label class="lead" for="title">Title:</label><br>
            <input type="text" class="form-control" name="title" required="required" id="title" value="{{ title }}"/>
        </div>
        </div>
        <div class="col-sm">
        <div class="form-group input-group-lg">
            <label class="lead" for="email">Email:</label><br>
            <input type="email" class="form-control" name="email" required="required" id="email" value="{{ email }}">
        </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm">
            <div class="form-group input-group-lg">
                <label class="lead" for="rows">Rows:</label>
                <input type="text" class="form-control" name="grid_row" id="rows" required="required" value="{{ grid_row }}">
            </div>
        </div>
        <div class="col-sm">
            <div class="form-group input-group-lg">
                <label class="lead" for="columns">Columns:</label>
                <input type="text" class="form-control" name="grid_column" id="columns" required="required" value="{{ grid_column }}">
            </div>
        </div>
        <div class="col-sm">
            <div class="form-group input-group-lg">
                <label class="lead" for="file">Upload a photo zip file:</label>
                <input type="file" class="form-control-file" name="grid_location" id="file" required="required" value="{{ grid_location }}",  accept=".zip">
            </div>
        </div>
        </div>
    {% if tour_generated %}
        <input class="btn btn-info btn-lg btn-block mt-3" name="submit_button" value="Preview" onclick="window.open('/static/{{ session_id }}/index.html','_blank')">
        <input class="btn btn-info btn-lg btn-block mt-3" name="submit_button" value="Download" onclick="window.open('/static/{{ session_id }}.zip','_blank')">
    {% else %}
        <input type="submit" class="btn btn-info btn-lg btn-block mt-3" name="submit_button" value="Generate Tour">
    {% endif %}
</div>
</form>
</div>
</body>

{% endblock %}
</html>
